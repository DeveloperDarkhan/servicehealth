# Service Health and Diagnostic Monitor

## Overview
–ö–æ–º–∞–Ω–¥–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–µ–±-—Å–µ—Ä–≤–∏—Å–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π –ø—Ä–æ–±–ª–µ–º.

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTP —Å—Ç–∞—Ç—É—Å–∞ 200
- –ü–æ–∏—Å–∫ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ "Success" –≤ —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## Key Features
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º —Ç–∞–π–º–∞—É—Ç–æ–º  
‚úÖ –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º  
‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ  
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ CLI

## Diagnostic Requirements
### –£—Å–ª–æ–≤–∏—è –∑–∞–ø—É—Å–∫–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
1. –ó–∞–ø—É—Å–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –Ω–µ —Ä–∞–≤–µ–Ω 200 –∏–ª–∏ —Ç–µ–ª–æ –Ω–µ –∏–º–µ–µ—Ç —Å–ª–æ–≤–∞ "Success"
2. –ù–∏–∂–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∞ —Å—Ö–µ–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã 

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
1. **DNS Resolution (nslookup)**  
   –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ DNS-–∑–∞–ø–∏—Å–µ–π
2. **Port Check (443/TCP)**  
   –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ HTTPS-–ø–æ—Ä—Ç–∞
3. **SSL Certificate Verification**  
   –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
4. **Latency Measurement**  
   –ó–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–∞

## Diagnostic Actions Explanation
| –ü—Ä–æ–≤–µ—Ä–∫–∞         | –¶–µ–ª—å                                                                 |
|------------------|----------------------------------------------------------------------|
| DNS Resolution   | –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å DNS-—Å–µ—Ä–≤–µ—Ä–∞–º–∏ –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π           |
| Port Check       | –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ—Ä—Ç–æ–≤ —Å–µ—Ä–≤–∏—Å–∞                      |
| SSL Verification | –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ (–∏—Å—Ç–µ–∫—à–∏–µ, —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ)  |
| Keyword Check    | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã                      |


## Installation
```
git clone https://github.com/your-repo/service-monitor.git
cd service-monitor
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

## Usage
–ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫:
```
python health_check.py \
  --url https://sre-test-assignment.innervate.tech/health.html \
  --keyword "Success"
```

–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
| –ü–∞—Ä–∞–º–µ—Ç—Ä      | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é              | –û–ø–∏—Å–∞–Ω–∏–µ                  |
|---------------|---------------------------|---------------------------|
| --interval    | 60                        | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–æ–∫ (—Å–µ–∫)   |
| --timeout     | 10                        | –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ (—Å–µ–∫)     |
| --log-file    | diagnostics.log           | –§–∞–π–ª –ª–æ–≥–æ–≤                |
| --retries     | 3                         | –ß–∏—Å–ª–æ –ø–æ–ø—ã—Ç–æ–∫             |
| --keyword     | Success                   | –ü–æ–∏—Å–∫ —Å–ª–æ–≤–∞ –æ—Ç–≤–µ—Ç–µ        |


## Testing Scenarios
### –£—Å–ø–µ—à–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```
python health_check.py --url https://valid-url/health.html --keyword "Success"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**  
–í—ã–≤–æ–¥ "Success" –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥

### –ù–µ—É–¥–∞—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
python health_check.py --url https://invalid-url/health.html --keyword "Success"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü—É—Å—Ç–æ–π stdout
- –ó–∞–ø–∏—Å—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ diagnostics.log

## Logging Format
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ–æ—Ä–º–∞—Ç—É:**
[YYYY-MM-DD HH:MM:SS] [LEVEL] [ACTION] - Message

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:**
```
[2023-11-21 09:15:23] [ERROR] [HTTP_CHECK] - Status code 503 received
[2023-11-21 09:15:25] [INFO] [DNS_CHECK] - nslookup result for example.com: 192.0.2.1
[2023-11-21 09:15:27] [WARNING] [SSL_CHECK] - Certificate expires in 7 days
```

–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤: [Pastebin](https://pastebin.com/example123)

## Architecture

```mermaid
graph TD;
    Start[–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞] --> ParamCheck{–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∞–ª–∏–¥–Ω—ã?};
    ParamCheck -->|–î–∞| HealthCheck;
    ParamCheck -->|–ù–µ—Ç| Error[–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å –æ—à–∏–±–∫–æ–π];
    HealthCheck --> HTTPReq[–û—Ç–ø—Ä–∞–≤–∫–∞ HTTP-–∑–∞–ø—Ä–æ—Å–∞];
    HTTPReq --> StatusCheck{–°—Ç–∞—Ç—É—Å 200?};
    StatusCheck -->|–î–∞| KeywordCheck;
    StatusCheck -->|–ù–µ—Ç| Diagnostics;
    KeywordCheck -->|–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ –Ω–∞–π–¥–µ–Ω–æ| SuccessOutput[–í—ã–≤–æ–¥ Success];
    KeywordCheck -->|–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç| Diagnostics;
    Diagnostics --> DNS[–ü—Ä–æ–≤–µ—Ä–∫–∞ DNS];
    Diagnostics --> Port[–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ 443];
    Diagnostics --> SSL[–ü—Ä–æ–≤–µ—Ä–∫–∞ SSL];
    Diagnostics --> Log[–ó–∞–ø–∏—Å—å –≤ –ª–æ–≥];
    Log --> Exit[–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã];
```

## Advanced Features
- –≠–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Prometheus
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- –¶–≤–µ—Ç–æ–≤–æ–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–æ–≤
- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π

## üöÄ Roadmap

### Q4 2025 - Q1 2026
| –°—Ç–∞—Ç—É—Å       | –ó–∞–¥–∞—á–∞                          | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------------|---------------------------------|-----------|
| ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞  | High      |
| ‚è≥ –í —Ä–∞–±–æ—Ç–µ  | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞         | Critical  |

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### üê≥ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [ ] Docker-–æ–±—Ä–∞–∑ —Å –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–æ–π —Å–±–æ—Ä–∫–æ–π
- [ ] Helm-—á–∞—Ä—Ç –¥–ª—è Kubernetes-–¥–µ–ø–ª–æ—è
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–ø—É—Å–∫–∞ –∫–∞–∫ systemd-—Å–µ—Ä–≤–∏—Å–∞

#### üìä –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫ –≤ Prometheus Format
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenTelemetry SDK
- [ ] –¢—Ä–µ–π—Å–∏–Ω–≥ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

#### üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] Slack-webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PagerDuty/MS Teams
- [ ] –≠—Å–∫–∞–ª–∞—Ü–∏—è –∞–ª–µ—Ä—Ç–æ–≤ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

#### üõ†Ô∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- [ ] –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞
- [ ] –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –¥–∞—à–±–æ—Ä–¥ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (Grafana)

#### üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- [ ] –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
- [ ] YAML-–∫–æ–Ω—Ñ–∏–≥–∏ –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤

## Contribution
1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è —Ñ–∏—á–∏ (`feature/your-feature`)
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ Pull Request

## License
MIT License. –ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. –≤ —Ñ–∞–π–ª–µ LICENSE.