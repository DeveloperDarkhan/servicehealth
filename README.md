# Service Health and Diagnostic Monitor

## Overview
–°–∫—Ä–∏–ø—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- HTTP —Å—Ç–∞—Ç—É—Å 200
- –ù–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ "Success" –≤ –æ—Ç–≤–µ—Ç–µ
- –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏ - —Å—Ç–∞—Ç—É—Å 200 –∏ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ "Success" –ª–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ stdout
- DNS —Ä–µ–∑–æ–ª–≤–∏–Ω–≥ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–µ—Ç–∏
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –µ—Å–ª–∏:
    - –°—Ç–∞—Ç—É—Å –Ω–µ —Ä–∞–≤–µ–Ω 200 –∏–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–æ–≤–æ "Success"

## Features
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞ —Å —Ç–∞–π–º–∞—É—Ç–æ–º
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–∏ —Å–±–æ—è—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
    - —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–æ—Ä–º–∞—Ç timestamp –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–µ–π—Å—Ç–≤–∏—è
    - –ø—Ä–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ª–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ /tmp/diagnostic.log
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

## Diagnostic Actions
1. **DNS Resolution** - –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å DNS-–∑–∞–ø–∏—Å—è–º–∏ –∏–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é DNS-—Å–µ—Ä–≤–µ—Ä–æ–≤
2. **Port Check** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 443)
3. **SSL Verification** - –≤—ã—è–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ (–∏—Å—Ç–µ–∫—à–∏–µ, –Ω–µ–¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ)
4. **Latency Measurement** - –∑–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞
5. **HTTP Headers Check** - –∞–Ω–∞–ª–∏–∑ –≤–∞–∂–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

## Requirements
- Python 3.8+
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏: `requests`, `dnspython`

## Installation
```
git clone https://github.com/your-repo/service-health-monitor.git
cd service-health-monitor
pip install -r requirements.txt
```

## Usage
–ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫:
```
python health_check.py \
  --url https://sre-test-assignment.innervate.tech/health.html \
  --keyword "Success"
```

–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```
python health_check.py 
  --url  
  --keyword "Success" 
  --timeout 5 
  --log-level DEBUG
```


## Configuration
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —á–µ—Ä–µ–∑:
- –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- –§–∞–π–ª `.env`
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
| –ü–∞—Ä–∞–º–µ—Ç—Ä      | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é               | –û–ø–∏—Å–∞–Ω–∏–µ                  |
|---------------|---------------------------|---------------------------|
| --interval    | 60                        | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–æ–∫ (—Å–µ–∫)   |
| --timeout     | 10                        | –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ (—Å–µ–∫)     |
| --log-file    | diagnostics.log           | –§–∞–π–ª –ª–æ–≥–æ–≤               |
| --retries     | 3                         | –ß–∏—Å–ª–æ –ø–æ–ø—ã—Ç–æ–∫            |

## Sample Outputs
–£—Å–ø–µ—à–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
[2023-11-20 15:30:45] SUCCESS - HTTP 200 | Keyword found | Latency: 128ms

–ü—Ä–∏–º–µ—Ä –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
```
[2023-11-20 15:32:10] ERROR - Service check failed: Keyword mismatch
[2023-11-20 15:32:10] DNS Lookup: 
;; SERVER: 8.8.8.8#53(8.8.8.8)
;; WHEN: Mon Nov 20 15:32:10 CET 2023
;; MSG SIZE  rcvd: 92


[2023-11-20 15:32:12] SSL Cert Valid: True (Expires: 2024-01-01)
[2023-11-20 15:32:13] Average Latency: 450ms (Last 5 checks)
```

## Architecture

```mermaid
graph TD;
    A[–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è] --> B[HTTP Check];
    B --> C{Success?};
    C -->|–î–∞| D[Log Success];
    C -->|–ù–µ—Ç| E[Run Diagnostics];
    E --> F[DNS Check];
    E --> G[Port Check];
    E --> H[SSL Check];
    E --> I[Latency Check];
    F --> J[Generate Report];
```

## Advanced Features
- –≠–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Prometheus
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- –¶–≤–µ—Ç–æ–≤–æ–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–æ–≤
- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π

## üöÄ Roadmap

### Q4 2025 - Q1 2026
| –°—Ç–∞—Ç—É—Å       | –ó–∞–¥–∞—á–∞                          | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------------|---------------------------------|-----------|
| ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞  | High      |
| ‚è≥ –í —Ä–∞–±–æ—Ç–µ  | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞         | Critical  |

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### üê≥ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [ ] Docker-–æ–±—Ä–∞–∑ —Å –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–æ–π —Å–±–æ—Ä–∫–æ–π
- [ ] Helm-—á–∞—Ä—Ç –¥–ª—è Kubernetes-–¥–µ–ø–ª–æ—è
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–ø—É—Å–∫–∞ –∫–∞–∫ systemd-—Å–µ—Ä–≤–∏—Å–∞

#### üìä –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫ –≤ Prometheus Format
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenTelemetry SDK
- [ ] –¢—Ä–µ–π—Å–∏–Ω–≥ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

#### üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] Slack-webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PagerDuty/MS Teams
- [ ] –≠—Å–∫–∞–ª–∞—Ü–∏—è –∞–ª–µ—Ä—Ç–æ–≤ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

#### üõ†Ô∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- [ ] –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞
- [ ] –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –¥–∞—à–±–æ—Ä–¥ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (Grafana)

#### üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- [ ] –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
- [ ] YAML-–∫–æ–Ω—Ñ–∏–≥–∏ –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤

## Contribution
1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è —Ñ–∏—á–∏ (`feature/your-feature`)
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ Pull Request

## License
MIT License. –ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. –≤ —Ñ–∞–π–ª–µ LICENSE.